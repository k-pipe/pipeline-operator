apiVersion: pipeline.k-pipe.cloud/v1
kind: PipelineDefinition
metadata:
  labels:
    app.kubernetes.io/name: pipeline-test-1
    app.kubernetes.io/instance: pipeline-test-1
    app.kubernetes.io/part-of: kpipe
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/created-by: kpipe
  name: test-pipeline-1.0.0
  namespace: k-pipe
spec:
  name: "test-pipeline"
  version: "1.0.0"
  pipelineStructure:
    jobSteps:
    - id: stepa
      config:
        list:
          - 1
          - 2
          - 3
        string: "hello"
      jobSpec:
        image: busybox
        command: ["sleep"]
        args: ["20"]
    - id: stepb
      config: "This a config B"
      jobSpec:
        image: busybox
    pipes:
    - from:
        stepId: stepa
        name: pipeName1
      to:
        stepId: stepb
        name: pipeName2


